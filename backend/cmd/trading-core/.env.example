# ============================================================
# DES Trading Core - Environment Configuration
# DES 交易核心 - 環境設定
# ============================================================

# ------------------------------------------------------------
# Server | 伺服器
# ------------------------------------------------------------
# HTTP server port | HTTP 服務埠號
PORT=8080

# Language: en (English) / zh (繁體中文)
# 語言設定：en (英文) / zh (繁體中文)
LANGUAGE=en

# ------------------------------------------------------------
# Binance Spot | 幣安現貨
# ------------------------------------------------------------
# Use testnet | 使用測試網
BINANCE_TESTNET=true

# API credentials | API 金鑰 (正式模式需填寫)
BINANCE_API_KEY=
BINANCE_API_SECRET=

# Trading symbols | 交易對
BINANCE_SYMBOLS=BTCUSDT,ETHUSDT

# Enable spot trading | 啟用現貨交易
ENABLE_BINANCE_TRADING=false

# ------------------------------------------------------------
# Binance Futures USDT-M | 幣安 U 本位合約
# ------------------------------------------------------------
ENABLE_BINANCE_USDT_FUTURES=false
BINANCE_USDT_KEY=
BINANCE_USDT_SECRET=

# ------------------------------------------------------------
# Binance Futures COIN-M | 幣安幣本位合約
# ------------------------------------------------------------
ENABLE_BINANCE_COIN_FUTURES=false
BINANCE_COIN_KEY=
BINANCE_COIN_SECRET=

# ------------------------------------------------------------
# Market Data | 行情資料
# ------------------------------------------------------------
# Use mock feed (true=simulated prices, false=real Binance data)
# 使用模擬行情 (true=模擬價格, false=真實幣安行情)
USE_MOCK_FEED=true

# ------------------------------------------------------------
# DRY RUN Mode | 模擬模式
# ------------------------------------------------------------
# Enable dry-run (no real orders, local simulation only)
# 啟用模擬模式 (不會發送真實訂單，僅本地模擬)
DRY_RUN=true

# Initial simulated balance | 模擬初始餘額
DRY_RUN_INITIAL_BALANCE=10000

# Separate database for dry-run | 模擬模式專用資料庫
DRY_RUN_DB_PATH=./trading_dry.db

# Fee rate simulation (0.0004 = 4bps = 0.04%)
# 手續費模擬 (0.0004 = 4基點 = 0.04%)
DRY_RUN_FEE_RATE=0.0004

# Slippage simulation in basis points | 滑點模擬 (基點)
DRY_RUN_SLIPPAGE_BPS=2

# Gateway latency simulation (ms) | 延遲模擬 (毫秒)
# Set both to 0 to disable | 設為 0 停用
DRY_RUN_GATEWAY_LATENCY_MIN_MS=0
DRY_RUN_GATEWAY_LATENCY_MAX_MS=0

# Optional: Enable WAL in dry-run | 可選：模擬模式啟用 WAL
DRY_RUN_ENABLE_ORDER_WAL=false
DRY_RUN_ORDER_WAL_PATH=./data/order_wal_dry

# ------------------------------------------------------------
# Execution Control | 執行控制
# ------------------------------------------------------------
# Master switch for real orders (false = simulation even if DRY_RUN=false)
# 實單總開關 (false = 即使 DRY_RUN=false 也不下單)
EXECUTION_ENABLED=true

# Balance source: auto | exchange | fixed
# 餘額來源: auto (自動) | exchange (交易所) | fixed (固定初始餘額)
BALANCE_SOURCE=auto

# ------------------------------------------------------------
# Database | 資料庫
# ------------------------------------------------------------
# Production database path | 正式資料庫路徑
DB_PATH=./data/trading.db

# Order WAL (Write-Ahead Log) for crash recovery
# 訂單 WAL (預寫日誌) 用於故障恢復
ENABLE_ORDER_WAL=true
ORDER_WAL_PATH=./data/order_wal

# ------------------------------------------------------------
# Authentication | 認證
# ------------------------------------------------------------
# JWT secret for API authentication | API 認證用 JWT 密鑰
JWT_SECRET=your-secret-key-change-in-production

# License server (optional) | 授權伺服器 (可選)
LICENSE_SERVER=

# ------------------------------------------------------------
# API Key Encryption | API 金鑰加密
# ------------------------------------------------------------
# Master key for encrypting stored API keys (32 bytes, base64)
# 用於加密儲存 API 金鑰的主密鑰 (32 位元組, base64 編碼)
# Generate with: openssl rand -base64 32
# 產生方式: openssl rand -base64 32
MASTER_ENCRYPTION_KEY=

# ------------------------------------------------------------
# Python Worker (Optional) | Python 工作器 (可選)
# ------------------------------------------------------------
ENABLE_PYTHON_WORKER=false
PYTHON_WORKER_ADDR=localhost:50051
